<!doctype html>
<html>
<body>
<h1><center>Local Map & Weather</center></h1>
<form>
<center>
  <div class="form-group">
    <label for="LocInput"></label>
    <input class="form-control" id="LocInput" placeholder="Enter Address or Zip Code"></input>
    <button onclick="loadAddress()" type="button">Check</button>
  </div>
</center>
</form>
<iframe
  id="Welcome_Display"					      
  width="1000"
  height="700"
  frameborder="0" style="border:0"
  src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDNRmufQHfCRrlCbsx_n_VNoSSploKRB2c
  &q=1825+texas+tech+parkway, Lubbock+TX, 79415" allowfullscreen>
</iframe>
<!--
<iframe
  width="500"
  height="300"
  frameborder="0" style="border:0"
  src= "http://openweathermap.org/img/wn/10d@2x.png"
</iframe>-->
<iframe
  id="Weather_Data"
  width="500"
  height="400"
  frameborder="0" style="border:0"
  src= "http://api.openweathermap.org/data/2.5/weather?zip=79415,us&appid=fe871de616008d75a917c6eabcccd1bb" >
</iframe>
<p id="debug"></p>
<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>-->
<script type="text/javascript">
function loadAddress(){
	var search_data = document.getElementById("LocInput").value;
	var search_data_length = document.getElementById("LocInput").value.length;
	var numComparsion = /^[0-9]+$/;
	var Target_MapAddress = "https://www.google.com/maps/embed/v1/place?key=AIzaSyDNRmufQHfCRrlCbsx_n_VNoSSploKRB2c&q="+search_data;
	document.getElementById('Welcome_Display').src= Target_MapAddress;
	if(search_data_length == 5)
	{
		if(String(search_data).match(numComparsion))
		{
			var Target_WeatherAddress = "http://api.openweathermap.org/data/2.5/weather?zip="+search_data+",us&appid=fe871de616008d75a917c6eabcccd1bb";
			document.getElementById('Weather_Data').src=Target_WeatherAddress;
		}
		else
		{/*Something to display to indicate an invalid zip code for both Map/Weather*/}
	}
	else
	{
		if(String(search_data[search_data_length-1]).match(numbers) && String(search_data[0]).match(numbers))
		{
			var daZipCode = "";
			var x;
			for(x = search_data_length-6; x<search_data_length-1; x++)
			{
				if(String(search_data[x]).match(numbers))
					daZipCode += search_data[x];
				else
					daZipCode = "Failed";
			}
			if(!daZipCode.equals("Failed"))
			{
				var Target_WeatherAddress = "http://api.openweathermap.org/data/2.5/weather?zip="+daZipCode+",us&appid=fe871de616008d75a917c6eabcccd1bb";
                        	document.getElementById('Weather_Data').src=Target_WeatherAddress;
			}
			else
			{
			/*Something to display to indicate an invalid address for both Map/Weather*/
			}
		}
		else
		{
		/*Something to display an invalid address for both Map/Weather*/
		}
	}

}
</script>
</body>
</html>
